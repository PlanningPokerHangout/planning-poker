webpackJsonp([1],{0:function(t,e,n){"use strict";var a=n(96),i=n(100),s=n(102);s.init(),a.render(a.createElement(i,null),document.getElementById("app"))},23:function(t,e,n){"use strict";var a=n(106);t.exports={ActionTypes:a({INITIALIZED:null,PARTICIPANTS_UPDATED:null,TOGGLE_SCORE_DISPLAY:null,VOTES_CHANGED:null,RESET_SCORES:null,SELECT_CARD:null}),PayloadSources:a({SERVER_ACTION:null,VIEW_ACTION:null})}},30:function(t,e,n){"use strict";var a=n(23),i=n(104).Dispatcher,s=n(107),c=a.PayloadSources,r=s(new i,{handleServerAction:function(t){var e={source:c.SERVER_ACTION,action:t};this.dispatch(e)},handleViewAction:function(t){var e={source:c.VIEW_ACTION,action:t};this.dispatch(e)}});t.exports=r},41:function(t,e,n){"use strict";var a=n(30),i=n(23),s=i.ActionTypes;i.PayloadSources;t.exports={resetScores:function(){a.handleViewAction({type:s.RESET_SCORES})},toggleScoreDisplay:function(){a.handleViewAction({type:s.TOGGLE_SCORE_DISPLAY})},selectCard:function(t,e){a.handleViewAction({type:s.SELECT_CARD,participantID:t,cardValue:e})},updateParticipants:function(t){a.handleServerAction({type:s.PARTICIPANTS_UPDATED,participants:t})},updateLocalParticipant:function(t){a.handleServerAction({type:s.LOCAL_PARTICIPANT_UPDATED,participant:t})},updateVotes:function(t){a.handleServerAction({type:s.VOTES_CHANGED,votes:t})},setInitialData:function(t){a.handleServerAction({type:s.INITIALIZED,localParticipant:t.localParticipant,participants:t.participants,votes:t.votes})}}},42:function(t,e,n){"use strict";function a(t){return t.hasAppEnabled===!0}function i(t){d=t}function s(t){h=t}var c=n(30),r=n(23),o=r.ActionTypes,l="change",u=n(33).EventEmitter,p=n(29),d=null,h=[],m=p.extend({emitChange:function(){this.emit(l)},addChangeListener:function(t){this.on(l,t)},getParticipants:function(){return{all:h,active:p.filter(h,a),inactive:p.reject(h,a),local:d}},getLocalParticipant:function(){return d}},u.prototype);m.dispatchToken=c.register(function(t){var e=t.action;switch(e.type){case o.INITIALIZED:i(e.localParticipant),s(e.participants);break;case o.PARTICIPANTS_UPDATED:s(e.participants),m.emitChange()}}),t.exports=m},60:function(t,e,n){"use strict";function a(){u=!u}var i=n(30),s=n(23),c=s.ActionTypes,r="change",o=n(33).EventEmitter,l=n(29),u=!1,p=!1,d=l.extend({emitChange:function(){this.emit(r)},addChangeListener:function(t){this.on(r,t)},shouldDisplayScores:function(){return u},appIsInitialized:function(){return p}},o.prototype);d.dispatchToken=i.register(function(t){var e=t.action;switch(e.type){case c.TOGGLE_SCORE_DISPLAY:a(),d.emitChange();break;case c.INITIALIZED:p=!0,d.emitChange();break;case c.VOTES_CHANGED:0==Object.keys(e.votes).length&&(u=!1)}}),t.exports=d},61:function(t,e,n){"use strict";function a(t){u=t}var i=n(30),s=n(23),c=s.ActionTypes,r="change",o=n(33).EventEmitter,l=n(29),u={},p=l.extend({emitChange:function(){this.emit(r)},addChangeListener:function(t){this.on(r,t)},getVoteByID:function(t){return u[t]||null}},o.prototype);p.dispatchToken=i.register(function(t){var e=t.action;switch(e.type){case c.INITIALIZED:a(e.votes),p.emitChange();break;case c.VOTES_CHANGED:a(e.votes),p.emitChange()}}),t.exports=p},97:function(t,e,n){"use strict";function a(){return{me:c.getLocalParticipant(),choices:["?","0","1/2","1","2","3","5","8","13"]}}var i=n(34),s=n(29),c=n(42),r=n(61),o=n(101),l=i.createClass({displayName:"Ballot",getInitialState:function(){return a()},componentDidMount:function(){c.addChangeListener(this._onChange),r.addChangeListener(this._onChange)},componentWillUnmount:function(){c.removeChangeListener(this._onChange),r.removeChangeListener(this._onChange)},_onChange:function(){this.setState(a())},renderVotingOption:function(t,e,n){var a=r.getVoteByID(this.state.me.id),s=t===a,c=e===n.length-1;return i.createElement(o,{value:t,participantID:this.state.me.id,selected:s,lastItem:c,key:e})},render:function(){var t=s.map(this.state.choices,this.renderVotingOption);return i.createElement("div",{className:"options"},i.createElement("h4",null,"Select a Value"),i.createElement("div",{className:"row"},t))}});t.exports=l},98:function(t,e,n){"use strict";var a=n(96),i=n(41),s=a.createClass({displayName:"Moderator",_resetScores:function(){i.resetScores()},_toggleScores:function(){i.toggleScoreDisplay()},render:function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"small-offset-2 small-4 columns"},a.createElement("div",{className:"button",onClick:this._resetScores},"Reset Voting")),a.createElement("div",{className:"small-4 end columns"},a.createElement("div",{className:"button",onClick:this._toggleScores},"Toggle Scores")))}});t.exports=s},99:function(t,e,n){"use strict";function a(){return{participants:s.getParticipants(),displayScores:r.shouldDisplayScores()}}var i=n(34),s=n(42),c=n(61),r=n(60),o=n(29),l="âœ“",u=i.createClass({displayName:"Participant",render:function(){var t=this.props.participant.person.displayName,e=this.props.vote,n=e.reveal?e.value:e["default"],a=i.addons.classSet,s=a({participant:!0,inactive:!this.props.participant.hasAppEnabled}),c=a({score:!0,right:!0,hide:o.isNull(e.value)});return i.createElement("li",{className:s},i.createElement("p",{className:"name"},i.createElement("span",{className:c},n),t))}}),p=i.createClass({displayName:"Participants",getInitialState:function(){return a()},componentDidMount:function(){s.addChangeListener(this._onChange),c.addChangeListener(this._onChange),r.addChangeListener(this._onChange)},componentWillUnmount:function(){s.removeChangeListener(this._onChange),c.removeChangeListener(this._onChange),r.removeChangeListener(this._onChange)},_onChange:function(){this.setState(a())},render:function(){function t(t){var n={reveal:e,value:c.getVoteByID(t.id),"default":l};return i.createElement(u,{participant:t,vote:n,key:t.id})}var e=this.state.displayScores,n=this.state.participants.active.map(t),a=this.state.participants.inactive.map(t);return i.createElement("div",{className:"participants"},i.createElement("h4",null,"Participants"),i.createElement("div",{className:"row"},i.createElement("div",{className:"columns small-offset-1 small-10"},i.createElement("ul",{className:"small-block-grid-1 medium-block-grid-2 large-block-grid-3"},n,a))))}});t.exports=p},100:function(t,e,n){"use strict";function a(){return{initialized:o.appIsInitialized()}}var i=n(34),s=n(97),c=n(99),r=n(98),o=n(60),l=i.createClass({displayName:"Poker",getInitialState:function(){return a()},componentDidMount:function(){o.addChangeListener(this._onChange)},componentWillUnmount:function(){o.removeChangeListener(this._onChange)},_onChange:function(){this.setState(a())},render:function(){return this.state.initialized?i.createElement("div",null,i.createElement(c,null),i.createElement(s,null),i.createElement(r,null)):i.createElement("div",{className:"row"},i.createElement("div",{className:"columns small-12 text-center"},"Initializing......"))}});t.exports=l},101:function(t,e,n){"use strict";var a=n(34),i=n(41),s=a.createClass({displayName:"VotingOption",handleClick:function(){i.selectCard(this.props.participantID,this.props.value)},render:function(){var t=a.addons.classSet,e=t({button:!0,selected:this.props.selected}),n=t({columns:!0,"small-4":!0,"medium-3":!0,end:this.props.lastItem});return a.createElement("div",{className:n},a.createElement("div",{onClick:this.handleClick,className:e},this.props.value))}});t.exports=s},102:function(t,e,n){"use strict";function a(){var t=f.getParticipants().all,e=v.pluck(t,"id");return e}function i(t){var e=a(),n=v.pick(t,e);return n}function s(t){m.updateParticipants(t.participants)}function c(t){var e=t.state,n=i(e);m.updateVotes(n)}function r(){var t=p.hangout.getLocalParticipantId(),e=p.hangout.getParticipantById(t),n=p.hangout.getParticipants(),a=p.hangout.data.getState(),s=i(a);setTimeout(function(){m.setInitialData({localParticipant:e,participants:n,votes:s})},5)}function o(){p.hangout.onApiReady.add(r),p.hangout.onParticipantsChanged.add(s),p.hangout.data.onStateChanged.add(c)}function l(t){var e=f.getLocalParticipant();p.hangout.data.setValue(e.id,t)}function u(){p.hangout.data.submitDelta([],a())}var p=window.gapi,d=n(30),h=n(23),m=n(41),g=h.ActionTypes,f=n(42),v=(n(33).EventEmitter,n(29)),E={init:function(){o()}};E.dispatchToken=d.register(function(t){var e=t.action;switch(e.type){case g.RESET_SCORES:u();break;case g.SELECT_CARD:l(e.cardValue)}}),t.exports=E}});
//# sourceMappingURL=main.js.map